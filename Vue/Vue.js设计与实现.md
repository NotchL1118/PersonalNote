# 第一章

## 1.1 命令式和声明式

命令式框架**关注过程**，代码描述的都是执行的过程，符合直觉，比如相同的功能，用原生JS

```'
const div = document.querySelector('#app'); // 获取DIV
div.innerText = 'hello Vue' // 设置文本
div.addEventListener('click',() => {alert('ok')}) //绑定点击事件
```

而声明式框架更加**关注结果**，比如vue

```js
<div @click="() => alert('ok')">hello Vue</div>
```

我们只需要提供给Vue我们想要的结果，而不需要关注实现的细节，Vue会帮我们实现具体的过程。

## 1.2 性能

**声明式代码的性能不优于命令式代码的性能**

直接修改DOM的性能为A，找出差异的性能消耗为B

- 命令式代码消耗的性能为A
- 声明式代码消耗的性能为A+B

声明式代码比命令式多出找出差异的性能消耗。因为**框架本身就是封装了声明式代码才实现了面向用户的声明式**

但是命令式可以极大的增强可维护性，在做到性能损失最小的情况下，维持可维护性

## 1.3 虚拟DOM的性能问题

**声明式的更新性能消耗 = 找出差异的性能消耗 + 直接修改的性能消耗**，虚拟DOM的意义就是使找出差异的性能消耗最小化。

采用虚拟DOM的更新技术的性能**理论上**不可能比原生JS操作DOM更高，但是是理论上，因为当项目越来越大，**很难一直都写出绝对优化的命令式代码**。

原生JS操作DOM，虚拟DOM，`innerHTML`三者操作网页的性能和页面大小，变更部分的大小，也和处于创建页面阶段还是更新页面阶段都有关系，不可简单的下结论，经过对比心智负担和可维护性等因素考虑，选择虚拟DOM是个不错的选择。
