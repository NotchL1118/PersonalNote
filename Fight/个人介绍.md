面试官你好，我叫李帅洋，是南京信息工程大学计科专业的24届毕业生。(在校期间拿到过校一等奖学金，以及蓝桥杯B组国赛三等奖)。在校期间参加老师的创业团队，负责项目麦趣空间前端页面的编写，主要负责登录模块、菜单、消息组件的编写。以及在今年3到6月份在南京亚信安全公司前端实习，参与信舵管理平台的编写，主要负责一个剧本任务模块，一个表头控制组件的编写，以及一些页面的弹窗组件。我认为自己是一个热爱技术，热爱前端的人，希望今天的面试愉快，谢谢!

# 项目难点

1. 第一点就是融入这个项目吧，实习之前做的项目都没有那么大，到了公司第一天发现公司级别的代码确实非常的庞大。也没有交接文档，就只能自己看代码理解。主要也是从几个方面理清的吧，一个是看使用的组件库，然后看路由结构是什么样的，看状态存储模块化结构。通过看他人的代码以及代码规范文档理解了开发一个页面的过程。

## 表头组件

1. 表头组件的Props如何定义

最后我定的是第一个字段是一个存储模式way,传入`localStorage`或者action字符串表示用本地存储还是服务器存储模式，默认是本地村春。第二个Props是传入一个`basic`的对象，对象里存一些基础的设置，比如`localStorage`的存储键名，表头主字段名，就是不能被删除的那个表头。组件里有一个恢复默认值选项，要传入一个默认字段数组。第三个Props我设置的是actionProps，也是一个对象，如果选的是服务器存储，就传入对应的保存action函数，以及一个函数，可以返回action函数所需要的参数。

2. 拖拽看了别人的代码，最后使用的是`vuedraggle`库，并单独使用一个数组来进行控制。
3. 如何打开窗口，因为还传入全部的属性字段还有已经选择了的属性字段，

暴露了一个openModal方法，属性就传全部得属性字段allColumns还有已经选了的字段currentColumns，用来初始化弹窗的数据。然后深层次的监听currentColumns，发生变化就重新设置一边拖拽数组。

因为采用了这种方式，所以关闭窗口还需要额外的清空初始化数据，方便下次使用。

## 剧本任务

1. 难点主要在于一个添加任务的弹窗吧。因为有很多的配置项。写起来很容易乱。需要考虑非常多的情况。其中有一个配置项，是选择任务的执行周期，是单次任务还是周期任务，其中周期任务还可以选择分时天周月五种选择，然后每种选择对应的选项还不一样，比如选每分钟执行，那么初始值就得是1分钟，然后每天执行，就可以选择每过多少天，第几小时第几分钟第几秒。我的做法直接在template里规定死了，我本来想的是用变量来控制，但需要太多的变量，而且这种约定俗成的东西我感觉完全可以写死。第二个需要考虑的是月份，月还分大月小月，天数还要确认是否合法，比如选了1月31号，但是切换到2月，31号就是不合法的，所以还需要增加一个切换检查逻辑，每次月份的多选框切换了，如果是2月，天数大于28天就切换为28天，如果是小月，就切换到30天。

## 麦趣空间

1. 登录鉴权

通过路由守卫来实现，在beforeEach守卫里，首先检查要去的路由是否需要鉴权，在路由的meta属性里有一个requireAuth属性来规定该页面是否需要鉴权，如果不需要鉴权直接跳转，如果需要的话，首先判断是否已经登录了，当时是通过localStorage里面有没有token以及token是否有效来判断用户是否登录。后端的同学是专门写了一个接口来判断token是否有效。如果已经登陆了，直接跳转到相应页面，否则就清空token然后跳转到登录页。

登录，输入完账号密码之后发请求验证，验证通过保存token在localStorage里，然后跳转到控制台首页。

2. 菜单

菜单是通过对路由表进行处理然后得到的，会根据路由meta信息里的字段来判断是否需要隐藏子节点，是否需要隐藏节点等等，之后(使用的是自定义render函数)然后根据处理过后的数组，递归menu组件生成菜单。