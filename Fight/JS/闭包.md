# 闭包

> [文章](https://segmentfault.com/a/1190000042643748)

## 一句话解释

闭包就是一个绑定了执行环境的函数，它利用了词法作用域的特性，在函数嵌套时，内层函数引用外层函数作用域下的变量，并且内层函数在全局环境下可访问，就形成了闭包

## 具体原因



## 优缺点

- 优点
  - 保护私有变量
  - 避免全局变量污染
  - 让这些变量始终存在内存中（是优点）
- 缺点
  - 一直存在内存中（也是缺点）

## 作用

- 创建私有变量，一开始的模块化就是这种实现的，还有jQuery这种库
- 还有就是各种js事件也使用了闭包
- 还有Hooks钩子也用到了闭包
- 还有节流防抖
- 还有写一些工具函数，比如获取鼠标位置等等

## 个人总结

在 JavaScript 中，每当创建一个函数，闭包就会在函数创建的同时被创建出来。可以在一个内层函数中访问到其外部的作用域。

当函数被创建出来，内部的[[environment]]属性,ES5之前是[[Scope]]属性,保存着父级的词法环境，就算父级上下文销毁了，它的词法环境还存在在内存中并且依然被内部函数的词法环境引用着，所以不会被垃圾回收机制回收，变量属性依然保存在内存中，内部函数依然可以直接从内存中取值，也就形成了闭包。可以说JS中每一个函数都是一个闭包

优点作用就是可以保护私有变量，避免全局变量污染，延长局部变量的生命周期。一开始的模块化就有用过这种方式，还有JQuery库也是这么实现的，还有各种JS事件也利用了闭包，节流防抖等等。
